# ============================================
# Otium 后端环境变量配置
# ============================================
# 复制此文件为 .env 并填写实际值
# 部署到 Render 时，在 Dashboard 中设置这些变量
# ============================================

# ==================== 应用配置 ====================
# 环境：development, production, testing
ENVIRONMENT=development

# 调试模式（开发环境启用）
DEBUG=True

# 应用名称
APP_NAME=Otium

# 应用版本
APP_VERSION=1.0.0

# ==================== 服务器配置 ====================
# 主机和端口（Render 会自动设置 PORT 变量）
HOST=0.0.0.0
# PORT 由 Render 自动设置，不需要手动配置

# API 前缀
API_PREFIX=/api

# CORS 配置（用逗号分隔多个来源）
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,https://your-netlify-app.netlify.app

# ==================== JWT 认证配置 ====================
# 安全密钥：生成随机字符串，如：openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-in-production

# JWT 算法
ALGORITHM=HS256

# 访问令牌过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 管理员令牌过期时间（分钟）
ADMIN_TOKEN_EXPIRE_MINUTES=1440  # 24小时

# ==================== API 密钥配置 ====================
# Gemini API Key（从 https://makersuite.google.com/app/apikey 获取）
GEMINI_API_KEY=your_gemini_api_key_here

# GPTZero API Key（从 https://gptzero.me/ 获取）
GPTZERO_API_KEY=your_gptzero_api_key_here

# ==================== 数据库配置 ====================
# 数据库类型：sqlite, postgresql
DATABASE_TYPE=sqlite

# SQLite 数据库路径（相对路径）
DATABASE_PATH=./data/otium.db

# PostgreSQL 配置（生产环境使用）
# DATABASE_URL=postgresql://user:password@localhost/otium

# 密码哈希算法（sha256, bcrypt）
PASSWORD_HASH_ALGORITHM=sha256

# ==================== 文件存储配置 ====================
# 数据目录（用户数据、日志等）
DATA_DIR=./data

# 备份目录
BACKUP_DIR=./backups

# ==================== 速率限制配置 ====================
# 普通用户每分钟请求限制
RATE_LIMIT_PER_MINUTE=60

# 管理员每分钟请求限制
ADMIN_RATE_LIMIT_PER_MINUTE=200

# 用户每日文本处理限制
DAILY_TEXT_LIMIT=1000

# ==================== 日志配置 ====================
# 日志级别：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=./logs/otium.log

# 是否输出到控制台
LOG_TO_CONSOLE=True

# ==================== 安全配置 ====================
# 密码哈希算法
PASSWORD_HASH_ALGORITHM=bcrypt

# 密码哈希轮次
PASSWORD_HASH_ROUNDS=12

# 是否启用 HTTPS 重定向（生产环境启用）
ENABLE_HTTPS_REDIRECT=False

# ==================== 功能开关 ====================
# 是否启用 AI 检测功能
ENABLE_AI_DETECTION=True

# 是否启用文本润色功能
ENABLE_TEXT_REFINEMENT=True

# 是否启用翻译指令功能
ENABLE_TRANSLATION_DIRECTIVES=True

# ==================== Render 特定配置 ====================
# Render 会自动设置以下变量：
# - PORT: 应用程序监听的端口（自动设置）
# - RENDER: 设置为 "true" 表示在 Render 运行
# - RENDER_EXTERNAL_URL: 应用的外部 URL
#
# 在 Render 部署时，建议设置：
# ENVIRONMENT=production
# DEBUG=False
# ENABLE_HTTPS_REDIRECT=True

# ==================== 测试配置 ====================
# 测试模式（pytest 使用）
TESTING=False

# 测试数据库路径
TEST_DATABASE_PATH=./data/test.db

# ============================================
# 配置说明：
# 1. 本地开发：复制此文件为 .env，填写实际值
# 2. Render 部署：在 Render Dashboard -> Environment 中设置变量
# 3. 敏感信息（API 密钥、SECRET_KEY）不要提交到版本控制
# ============================================